---
layout: Post
title: 平衡二叉树
subtitle: 
author: Alomerry Wu
date: 2019-07-21
headerImage: /img/in-post/2019-07-21/header.jpg
catalog: true
tags:
- Y2019
---

<!-- Description. -->

<!-- more -->

## 平衡二叉树

### 平衡二叉树

平衡二叉树是二叉查找树的一种。当二叉查找树在最坏情况下，时间复杂度会退化成 O(n)，例如序列 (1，2，3，4，5，6，7，8，9)。为了解决这种情况，在二叉查找树插入时计算树的左右子树是否平衡，即左右的孩子高度是否相差至多一层高度。

### 插入

当插值比当前根节点权值小，往左子树插，反之往右子树插，在到达空节点时生成一个新结点并返回，父节点更新插入后的树高并计算平衡因子来决定是否需要旋转维护平衡。进行左旋或者右旋后更新修改后的树高。

- 插入左子树时
    + 如果当前节点的平衡因子为 2，则判断子节点的平衡因子
        + 如果左子树的平衡因子为 1，则要进行一次右旋
        + 如果左子树的平衡因子为 -1，则要先进行一次左旋，旋至上面一种形式之后再右旋
- 插入右子树时
    + 如果当前节点的平衡因子为 -2，则判断子节点的平衡因子
        + 如果右子树的平衡因子为 -1，则要进行一次左旋
        + 如果右子树的平衡因子为 1，则要先进行一次右旋，旋至上面一种形式之后再左旋
