# 系统/并发 `(4/16)`

- linux 中线程的状态
- 如何终止一个运行中的线程
  - kill
- 为什么要区分用户态和内核态
  - 内核具有很高的权限，可以控制 cpu、内存、硬盘等硬件，而应用程序具有的权限很小，因此大多数操作系统，把内存分成了两个区域：内核空间，这个内存空间只有内核程序可以访问；用户空间，这个内存空间专门给应用程序使用；
- 网络 io 模型
  - https://xiaolincoding.com/os/8_network_system/selete_poll_epoll.html
- 用户态和内核态的区别
- 锁的概念
- 死锁及如何避免死锁
  - 当两个线程为了保护两个不同的共享资源而使用了两个互斥锁，那么这两个互斥锁应用不当的时候，可能会造成两个线程都在等待对方释放锁，在没有外力的作用下，这些线程会一直相互等待，就没办法继续运行，这种情况就是发生了死锁（满足：互斥条件-多个线程不能同时使用同一个资源；持有并等待条件-线程在等待其他资源的同时并不会释放自己已经持有的资源；不可剥夺条件-在自己使用完之前不能被其他线程获取；环路等待条件-两个线程获取资源的顺序构成了环形链）
  - 破坏其中一个条件，常用方法是使用资源有序分配法，来破环环路等待条件
- i/o 多路复用技术是完美的吗？
- 上下文切换到底切换了什么？
  - 进程的上下文切换不仅包含了虚拟内存、栈、全局变量等用户空间的资源，还包括了内核堆栈、寄存器等内核空间的资源
  - 当两个线程是属于同一个进程，因为虚拟内存是共享的，所以在切换时，虚拟内存这些资源就保持不动，只需要切换线程的私有数据、寄存器等不共享的数据
- 内存分页、分段
  - https://xiaolincoding.com/os/3_memory/vmem.html#%E5%86%85%E5%AD%98%E5%88%86%E6%AE%B5
  - https://xiaolincoding.com/os/3_memory/vmem.html#%E5%86%85%E5%AD%98%E5%88%86%E9%A1%B5
- os 内存伙伴算法
- 生产者消费者问题
  - https://xiaolincoding.com/os/4_process/multithread_sync.html#%E7%94%9F%E4%BA%A7%E8%80%85-%E6%B6%88%E8%B4%B9%E8%80%85%E9%97%AE%E9%A2%98
- 有一台 linux 服务器，上面需要跑 Redis、Mysql、Web 三个服务，你会如何对这台 linux 服务器做性能测试和验收测试，会使用到哪些工具，关注哪些问题？
  - https://xiaolincoding.com/os/9_linux_cmd/linux_network.html
  - https://xiaolincoding.com/os/9_linux_cmd/pv_uv.html#uv-%E5%88%86%E7%BB%84
- 十进制和二进制怎么转换
- 什么是一致性哈希？
  - https://xiaolincoding.com/os/8_network_system/hash.html
- - 虚拟内存怎么关联到物理内存的？
  - 操作系统引入了虚拟内存，进程持有的虚拟地址会通过 CPU 芯片中的内存管理单元（MMU）的映射关系，来转换变成物理地址，然后再通过物理地址访问内存
  - 内存分段和内存分页
- 现在有一个项目已经上线了不能关闭，但是监控到它的内存一直在减少，你会如何排查这个问题
- 你谈到自己比较喜欢钻研，擅长解决疑难杂症，有没有一个case分享一下
- 系统设计：微信发红包抢红包 追问：发红包和抢红包实现接口注意事项，怎么保证抢红包不超过既定数量
- 如何保证并发，考虑哪些并发控制策略，加锁性能降低怎么办
- 服务治理
- 如何限流，工作中怎么做的，具体实现？
- 分布式服务接口的幂等性如何设计
- 接口设计原则
- 数据侧为什么要分库分表
- 集群分布式 session 如实现
- CAS 是怎么一种同步机制
- 多线程为什么会带来性能问题
- 有哪几种锁。有什么特点，有什么应用场景，共享锁排它锁 乐观锁悲观锁？
- 如何解决死锁
- 如何优化目前的系统
- 负载均衡机制
- 项目体量有多大，有多少张表，项目的难点在哪里
- cookie+session和jwt的区别
- 令牌桶怎么实现的
- 雪花算法原理
- 五种IO模型
- 计网：osi 七层体系+各层协议介绍，ip 地址分类/主机号及意义，重点讲讲应用层和传输层了解的协议及其作用和特点
- Linux：讲讲文件系统，写过什么脚本，如何查看磁盘/内存占用，grep 用法，crontab 5 个*含义，定时任务怎么写的
- Docker：容器定义与实现原理，和虚拟机的区别，打包到部署的全流程，dockfile 参数含义，copy 和 add 区别，如何优化镜像大小
  - https://blog.csdn.net/weixin_38499215/article/details/101480322?spm=1001.2014.3001.5506
- 讲讲架构和技术细节，写的 API 的业务逻辑是什么，主要用过哪些数据库，为什么用 docker 进行交付，交付的具体形式是什么，k8s 用过吗，容器内定时脚本/宿主机定时脚本启动容器，监控服务的脚本怎么写的，如何完成团队协作，遇到了什么困难，如何解决的
- 如何定位问题，链路追踪
- JWT 和 oauth2 的区别 oauth2 的授权过程 为什么要使用授权码 使用了 https 还有必要使用授权码吗
- git 中 rebase 和 merge 的区别，什么时候用
- ci/cd，是在 gitlab 的仓库中使用么？
- nginx 新配置 ip 重新 run了 之前的功能也不会受到影响 不停止的配置变更 是怎么实现的（nginx 热重载问题）
- ping 原理 curl 是什么，和 ping 的区别
